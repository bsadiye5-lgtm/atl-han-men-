<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Atlıhan Menü</title>
  <style>
    :root{
      --accent:#7b4b1d; --bg:#f8f5f0; --card:#fff; --muted:#777;
      --maxw:900px;
    }
    *{box-sizing:border-box}
    body{font-family:Inter, Poppins, sans-serif; margin:0; background:var(--bg); color:#2b1f16; -webkit-font-smoothing:antialiased}
    header{background:var(--accent); color:#fff; padding:18px 16px; position:sticky; top:0; z-index:50; display:flex; align-items:center; justify-content:space-between}
    header .brand{font-weight:700; font-size:18px; letter-spacing:0.6px}
    nav{display:flex; gap:12px; align-items:center}
    nav a{color:#fff; text-decoration:none; font-size:14px; opacity:0.95}
    .container{max-width:var(--maxw); margin:26px auto; padding:0 16px}
    .hero{display:flex; justify-content:space-between; gap:18px; align-items:center}
    .hero-left{max-width:620px}
    h1{margin:0 0 8px 0; font-size:28px}
    p.lead{margin:0; color:var(--muted)}
    .controls{margin-top:16px; display:flex; gap:8px; flex-wrap:wrap}
    .search{flex:1; min-width:160px}
    input[type="search"]{width:100%; padding:10px 12px; border-radius:10px; border:1px solid #e2dcd6; outline:none}
    .chips{display:flex; gap:8px; flex-wrap:wrap}
    .chip{padding:8px 12px; background:#fff; border-radius:999px; border:1px solid #eee; cursor:pointer; font-size:14px}
    .chip.active{background:var(--accent); color:#fff; border-color:transparent}
    .grid{display:grid; grid-template-columns:repeat(2,1fr); gap:14px; margin-top:22px}
    @media(max-width:640px){ .grid{grid-template-columns:1fr} h1{font-size:22px} .hero{flex-direction:column; align-items:flex-start} header{padding:12px} }
    .card{background:var(--card); border-radius:12px; padding:12px; box-shadow:0 6px 20px rgba(0,0,0,0.06); display:flex; gap:12px; align-items:center}
    .thumb{width:78px; height:78px; border-radius:10px; object-fit:cover; flex-shrink:0; background:#efefef}
    .meta{flex:1}
    .meta h3{margin:0 0 6px 0; font-size:16px}
    .meta p{margin:0; color:var(--muted); font-size:13px}
    .price{font-weight:700; color:var(--accent); margin-left:8px}
    .actions{display:flex; gap:8px; align-items:center}
    .btn{background:var(--accent); color:#fff; padding:8px 10px; border-radius:10px; text-decoration:none; font-size:14px; border:none; cursor:pointer}
    .btn.ghost{background:transparent; color:var(--accent); border:1px solid var(--accent)}
    footer{max-width:var(--maxw); margin:36px auto; padding:12px 16px; color:var(--muted); text-align:center}
    /* modal */
    .modal-backdrop{position:fixed; inset:0; background:rgba(0,0,0,0.45); display:none; align-items:center; justify-content:center; z-index:120}
    .modal{width:calc(100% - 40px); max-width:720px; background:#fff; border-radius:12px; padding:18px; display:flex; gap:14px; align-items:flex-start}
    .modal .m-thumb{width:180px; height:140px; border-radius:10px; object-fit:cover; background:#f3f3f3}
    .m-body h2{margin:0 0 6px 0}
    .m-body p{margin:0 0 10px 0; color:var(--muted)}
    .m-close{margin-left:auto; background:transparent; border:0; font-size:18px; cursor:pointer}
    .empty{padding:30px; text-align:center; color:var(--muted)}

  </style>
</head>
<body>

  <header>
    <div class="brand">Atlıhan</div>
    <nav>
      <a href="#kahvalti">Kahvaltı</a>
      <a href="#icecek">İçecek</a>
      <a href="#tatli">Tatlı</a>
    </nav>
  </header>

  <main class="container">
    <section class="hero" aria-label="hero">
      <div class="hero-left">
        <h1>Atlıhan Menü — QR ile Hemen Aç</h1>
        <p class="lead">Hızlıca sipariş verin veya menüyü inceleyin. Ürün üzerine tıklayarak ayrıntıları görebilirsiniz.</p>

        <div class="controls">
          <div class="search">
            <input id="search" type="search" placeholder="Ürün ara... (örn. simit)" />
          </div>
          <div class="chips" id="categoryChips">
            <!-- kategori butonları JS ile gelecek -->
          </div>
        </div>
      </div>
      <div class="hero-right" style="min-width:160px; text-align:right">
        <small style="color:var(--muted)">Hemen sipariş için:</small>
        <div style="margin-top:8px">
          <a id="whatsAllBtn" class="btn" href="#" target="_blank">WhatsApp ile Toplu Sipariş</a>
        </div>
      </div>
    </section>

    <section id="menuList" style="margin-top:18px">
      <!-- kategori başlıkları + gridler JS ile gelecek -->
    </section>

    <div id="empty" class="empty" style="display:none">Aradığınız kriterlere uygun ürün bulunamadı.</div>

  </main>

  <footer>© 2025 Atlıhan — Afiyet Olsun</footer>

  <!-- Modal -->
  <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true">
    <div class="modal" role="document">
      <img id="mThumb" class="m-thumb" src="" alt="ürün görseli" />
      <div class="m-body">
        <button id="mClose" class="m-close" aria-label="kapat">✕</button>
        <h2 id="mTitle"></h2>
        <p id="mDesc"></p>
        <div style="display:flex; gap:8px; align-items:center; margin-top:8px">
          <div style="font-weight:700; color:var(--accent)" id="mPrice"></div>
          <button id="mOrder" class="btn">WhatsApp ile Sipariş</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* -------------------------
       Menü verisi (kolay düzenleme)
       name: ürün adı
       category: "Kahvaltı" / "İçecek" / "Tatlı" (istediğin gibi genişlet)
       price: string (örn "15₺")
       img: url veya base64 (geçici olarak placeholder kullanıldı)
       desc: kısa açıklama
    -------------------------*/
    const menuData = [
      {id:1, name:"Sade Simit", category:"Kahvaltı", price:"15₺", img:"https://images.unsplash.com/photo-1572441710261-4d0f9b3f8d1c?w=800&q=60", desc:"Taze, çıtır simit."},
      {id:2, name:"Peynirli Poğaça", category:"Kahvaltı", price:"20₺", img:"https://images.unsplash.com/photo-1604908177522-0b8aea2a6d0e?w=800&q=60", desc:"İçinde eriyen peynir."},
      {id:3, name:"Açma", category:"Kahvaltı", price:"78₺", img:"https://images.unsplash.com/photo-1611892440504-42a792e24d32?w=800&q=60", desc:"Yumuşacık açma."},
      {id:3, name:"börek", category:"Kahvaltı", price:"75₺", img:"https://images.unsplash.com/photo-1611892440504-42a792e24d32?w=800&q=60", desc:"Yumuşacık açma."},
      {id:4, name:"Çay", category:"İçecek", price:"10₺", img:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=800&q=60", desc:"Demli Türk çayı."},
      {id:5, name:"Kahve", category:"İçecek", price:"25₺", img:"https://images.unsplash.com/photo-1541167760496-1628856ab772?w=800&q=60", desc:"Taze çekirdek kahve."},
      {id:6, name:"Soğuk Ayran", category:"İçecek", price:"15₺", img:"https://images.unsplash.com/photo-1598515213699-3be9a8f2a3c7?w=800&q=60", desc:"Serinletici ayran."},
      {id:7, name:"Kurabiye", category:"Tatlı", price:"10₺", img:"https://images.unsplash.com/photo-1541963463532-d68292c34b19?w=800&q=60", desc:"Ev yapımı kurabiye."},
      {id:8, name:"Çikolatalı Poğaça", category:"Tatlı", price:"25₺", img:"https://images.unsplash.com/photo-1612911920446-5f6f6f7b7a3f?w=800&q=60", desc:"Çikolata dolgulu poğaça."}
    ];

    /* Ayarlar */
    const phoneNumber = "905xxxxxxxxx"; // WhatsApp için numara: ülke koduyla (ör. Türkiye için 90)
    const shopName = "Atlıhan";

    /* ---------- Başlat ---------- */
    const categories = Array.from(new Set(menuData.map(m=>m.category)));
    const chipsEl = document.getElementById("categoryChips");
    const menuListEl = document.getElementById("menuList");
    const searchInput = document.getElementById("search");
    const emptyEl = document.getElementById("empty");
    const whatsAllBtn = document.getElementById("whatsAllBtn");

    let activeCategory = "Tümü";

    function init(){
      // kategori chipleri
      const allChip = createChip("Tümü", true);
      chipsEl.appendChild(allChip);
      categories.forEach(cat => chipsEl.appendChild(createChip(cat)));
      // içerik render
      renderMenuSections(menuData);
      // eventler
      searchInput.addEventListener("input",applyFilters);
      whatsAllBtn.addEventListener("click", openWhatsAll);
      // anchor smooth scroll
      document.querySelectorAll('a[href^="#"]').forEach(a=>{
        a.addEventListener("click", e=>{
          e.preventDefault();
          const target = document.querySelector(a.getAttribute("href"));
          if(target) target.scrollIntoView({behavior:"smooth"});
        });
      });
    }

    function createChip(label, active=false){
      const b = document.createElement("button");
      b.className = "chip" + (active? " active":"");
      b.textContent = label;
      b.onclick = ()=>{
        document.querySelectorAll(".chip").forEach(c=>c.classList.remove("active"));
        b.classList.add("active");
        activeCategory = label;
        applyFilters();
      };
      return b;
    }

    function renderMenuSections(items){
      // temizle
      menuListEl.innerHTML = "";
      // her kategori için başlık ve grid
      const grouped = {};
      items.forEach(it => {
        grouped[it.category] = grouped[it.category] || [];
        grouped[it.category].push(it);
      });
      // sıra: mevcut kategoriler sırasıyla
      categories.forEach(cat=>{
        if(!grouped[cat]) return;
        const sec = document.createElement("section");
        sec.id = slug(cat);
        const h = document.createElement("h2");
        h.textContent = cat;
        sec.appendChild(h);
        const g = document.createElement("div");
        g.className = "grid";
        grouped[cat].forEach(item=>{
          const card = createCard(item);
          g.appendChild(card);
        });
        sec.appendChild(g);
        menuListEl.appendChild(sec);
      });
      // boş varsa göster
      emptyEl.style.display = menuListEl.innerHTML.trim()? "none":"block";
    }

    function createCard(item){
      const div = document.createElement("div");
      div.className = "card";
      div.innerHTML = `
        <img class="thumb" src="${item.img}" alt="${escapeHtml(item.name)}">
        <div class="meta">
          <h3>${escapeHtml(item.name)} <span class="price">${escapeHtml(item.price)}</span></h3>
          <p>${escapeHtml(item.desc)}</p>
        </div>
        <div class="actions">
          <button class="btn ghost" data-id="${item.id}">Detay</button>
          <button class="btn" data-order="${item.id}">Sipariş</button>
        </div>
      `;
      // detay butonu
      div.querySelectorAll("[data-id]").forEach(b=>{
        b.addEventListener("click", ()=> openModal(item));
      });
      // sipariş butonu
      div.querySelectorAll("[data-order]").forEach(b=>{
        b.addEventListener("click", ()=> openWhatsSingle(item));
      });
      return div;
    }

    /* filtre uygula */
    function applyFilters(){
      const q = (searchInput.value||"").trim().toLowerCase();
      let filtered = menuData.filter(item=>{
        const matchesCategory = (activeCategory==="Tümü") || item.category===activeCategory;
        const matchesQ = !q || item.name.toLowerCase().includes(q) || (item.desc && item.desc.toLowerCase().includes(q));
        return matchesCategory && matchesQ;
      });
      renderFilterResults(filtered);
    }

    function renderFilterResults(filtered){
      // grouped by category
      const grouped = {};
      filtered.forEach(it => {
        grouped[it.category] = grouped[it.category] || [];
        grouped[it.category].push(it);
      });
      menuListEl.innerHTML = "";
      Object.keys(grouped).forEach(cat=>{
        const sec = document.createElement("section");
        sec.id = slug(cat);
        const h = document.createElement("h2");
        h.textContent = cat;
        sec.appendChild(h);
        const g = document.createElement("div");
        g.className = "grid";
        grouped[cat].forEach(item=>{
          g.appendChild(createCard(item));
        });
        sec.appendChild(g);
        menuListEl.appendChild(sec);
      });
      emptyEl.style.display = filtered.length? "none":"block";
    }

    /* modal logic */
    const modalBackdrop = document.getElementById("modalBackdrop");
    const mTitle = document.getElementById("mTitle");
    const mDesc = document.getElementById("mDesc");
    const mPrice = document.getElementById("mPrice");
    const mThumb = document.getElementById("mThumb");
    const mClose = document.getElementById("mClose");
    const mOrder = document.getElementById("mOrder");

    function openModal(item){
      mTitle.textContent = item.name;
      mDesc.textContent = item.desc || "";
      mPrice.textContent = item.price;
      mThumb.src = item.img;
      modalBackdrop.style.display = "flex";
      mOrder.onclick = ()=> openWhatsSingle(item);
    }
    mClose.onclick = ()=> modalBackdrop.style.display = "none";
    modalBackdrop.addEventListener("click", (e)=>{ if(e.target===modalBackdrop) modalBackdrop.style.display="none"; });

    /* WhatsApp sipariş (tek ürün) */
    function openWhatsSingle(item){
      // mesajı özelleştir
      const msg = encodeURIComponent(`${shopName} için sipariş:\n- ${item.name} (${item.price})\n\nAdres / Not: `);
      const url = `https://wa.me/${phoneNumber}?text=${msg}`;
      window.open(url, "_blank");
    }
    /* WhatsApp toplu (kullanıcıya genel link) */
    function openWhatsAll(e){
      e.preventDefault();
      const msg = encodeURIComponent(`${shopName} menüsünden sipariş vermek istiyorum. (ürün adı - adet) \n\nAdres / Not: `);
      const url = `https://wa.me/${phoneNumber}?text=${msg}`;
      window.open(url, "_blank");
    }

    /* yardımcı fonksiyonlar */
    function slug(s){ return s.toLowerCase().replace(/\s+/g,"-"); }
    function escapeHtml(s){ return String(s).replace(/</g,"&lt;").replace(/>/g,"&gt;"); }

    // init
    init();

  </script>

</body>
</html>

